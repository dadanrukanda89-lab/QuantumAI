<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>QuantumAI v6 Sulung Workflow — Full Glow Rebuild</title>
<style>
:root {
  --cyan:#00e5ff;
  --purple:#c37bff;
  --gold:#ffd36b;
  --green:#7fff9f;
}
html,body {
  margin:0;padding:0;
  height:100%;
  background:radial-gradient(circle at center,#020716 0%,#00030a 85%);
  color:var(--cyan);
  font-family:'Orbitron',sans-serif;
  overflow-x:hidden;
}
.grid {
  position:fixed;inset:0;
  background-image:
    linear-gradient(rgba(0,229,255,0.05) 1px,transparent 1px),
    linear-gradient(90deg,rgba(0,229,255,0.05) 1px,transparent 1px);
  background-size:40px 40px;
  z-index:0;
}
.core-glow {
  position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%);
  width:400px;height:400px;border-radius:50%;
  background:radial-gradient(circle,rgba(0,229,255,0.2),transparent 70%);
  animation:pulse 3s infinite alternate;
  filter:blur(30px);
  z-index:0;
}
@keyframes pulse {
  0%{opacity:0.4;transform:translate(-50%,-50%) scale(1);}
  100%{opacity:0.8;transform:translate(-50%,-50%) scale(1.15);}
}
h1{text-align:center;color:var(--cyan);margin:10px 0;text-shadow:0 0 10px #00ffff80;font-size:18px}
.stage{position:relative;height:83vh;margin-top:5px}

/* --- box --- */
.box{
  position:absolute;width:200px;height:90px;
  border:2px solid rgba(0,229,255,0.25);
  border-radius:12px;
  background:rgba(0,10,25,0.35);
  box-shadow:0 0 25px rgba(0,229,255,0.3);
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;
  transition:transform .3s ease, box-shadow .3s ease;
  backdrop-filter:blur(3px);
}
.box h4{margin:0;font-size:14px}
.box small{color:#b8faff;font-size:11px;opacity:.9;margin-top:4px}
.box:hover{transform:scale(1.08);box-shadow:0 0 30px rgba(0,229,255,0.5)}

/* posisi layout */
#datafeed{top:5%;left:5%}
#backend{top:5%;left:50%;transform:translateX(-50%)}
#sat{top:5%;right:5%}
#aicore{top:30%;left:8%}
#satmom{top:30%;left:50%;transform:translateX(-50%)}
#risk{top:30%;right:8%}
#news{top:45%;right:8%}
#storage{top:47%;left:50%;transform:translateX(-50%)}
#autotrade{top:60%;left:5%;width:90%;height:60px}
#chartL{bottom:140px;left:5%;width:45%;height:180px}
#chartR{bottom:140px;right:5%;width:40%;height:180px}
#chatbox{bottom:10px;left:50%;transform:translateX(-50%);width:95%;max-width:900px;height:130px;
border-radius:10px;background:#02060b;border:2px solid rgba(0,229,255,0.1);
display:flex;flex-direction:column;z-index:5}
.chat-log{flex:1;padding:6px;overflow:auto;color:#dff8ff;font-size:13px}
.chat-input{display:flex;padding:6px;border-top:1px solid rgba(255,255,255,0.05)}
.chat-input input{flex:1;padding:7px;border-radius:6px;border:1px solid rgba(255,255,255,0.05);
background:transparent;color:var(--cyan);outline:none}
.chat-input button{margin-left:8px;padding:7px 10px;border-radius:6px;border:none;
background:var(--cyan);color:#001;font-weight:bold}
canvas{display:block;width:100%;height:100%;border-radius:6px;background:rgba(0,15,25,0.3)}

/* responsive */
@media(max-width:768px){
  .box{width:46%;height:80px}
  #datafeed{top:5%;left:5%}
  #backend{top:5%;right:5%}
  #sat{top:18%;left:50%;transform:translateX(-50%)}
  #aicore{top:32%;left:5%}
  #satmom{top:32%;right:5%}
  #risk{top:45%;left:50%;transform:translateX(-50%)}
  #news{top:52%;right:5%}
  #storage{top:55%;left:5%}
  #autotrade{top:67%;left:5%;width:90%}
  #chartL,#chartR{width:90%;left:5%;right:auto;bottom:160px;height:150px}
  #chatbox{bottom:10px;width:95%;height:120px}
}
.footer{text-align:center;font-size:12px;color:#9fefff;opacity:.8;margin-top:10px}
</style>
</head>
<body>
<div class="grid"></div>
<div class="core-glow"></div>
<h1>QuantumAI v6 Sulung Workflow — Full Glow Rebuild</h1>

<div class="stage">
  <div class="box" id="datafeed"><h4>Data Feed / API</h4><small>Market Data · Candlesticks · Volume</small></div>
  <div class="box" id="backend"><h4>Backend Core System</h4><small>Signal Router · AI Engine · Sync</small></div>
  <div class="box" id="sat"><h4>Satellite Node</h4><small>External Feeds · Telemetry</small></div>

  <div class="box" id="aicore"><h4>AI Core Signal</h4><small>BUY / SELL / HOLD · Deep Neural Scan</small></div>
  <div class="box" id="satmom"><h4>Satellite Momentum</h4><small>Radar Pulse Analysis</small></div>
  <div class="box" id="risk"><h4>Risk Engine</h4><small>SL · TP · BE · Trailing Steps</small></div>
  <div class="box" id="news"><h4>News Intelligence</h4><small>Breaking News · Market Alerts</small></div>

  <div class="box" id="storage"><h4>Secure Data Storage</h4><small>Encrypted JSON · Signals · News</small></div>
  <div class="box" id="autotrade"><h4>AutoTrade & Manual Control</h4><small>Mock MT5 · MIFX · Binance</small></div>

  <div class="box" id="chartL"><h4>Real-Time Chart</h4><canvas id="chartCanvasL"></canvas></div>
  <div class="box" id="chartR"><h4>Risk Management</h4><small>SL · TP · Trailing Steps</small><canvas id="chartCanvasR"></canvas></div>

  <div class="box" id="chatbox">
    <div class="chat-log" id="chatLog"><div><b>[SYSTEM]</b> QuantumAI core online — ready.</div></div>
    <div class="chat-input">
      <input id="chatInput" placeholder="Type command (scan / buy / sell / status)">
      <button onclick="sendChat()">Send</button>
    </div>
  </div>
</div>

<div class="footer">Developed by dadanrukanda89-lab | QuantumAI Protocol 2026</div>

<script>
const backendURL="https://REPLACE_WITH_BACKEND.koyeb.app";
const pollInterval=2000;
const q=id=>document.getElementById(id);
const cL=q('chartCanvasL').getContext('2d'),cR=q('chartCanvasR').getContext('2d');
function drawLine(ctx,vals,color){
  const W=ctx.canvas.width,H=ctx.canvas.height;
  ctx.clearRect(0,0,W,H);
  ctx.beginPath();ctx.strokeStyle=color;ctx.lineWidth=2;
  const step=W/(vals.length-1);
  vals.forEach((v,i)=>{const x=i*step,y=H/2-v*(H/2-8);i?ctx.lineTo(x,y):ctx.moveTo(x,y)});
  ctx.stroke();
}
async function fetchJson(p){try{const r=await fetch(backendURL+p);return await r.json()}catch{return null}}
async function liveTick(){
  const s=await fetchJson('/api/signal');
  if(s&&s.signals)drawLine(cL,s.signals,'#7fff9f');
  const b=await fetchJson('/api/broker');
  if(b)q('aicore').innerHTML=`<h4>AI Core Signal</h4><small>${b.broker} • Bal:${b.balance}</small>`;
}
window.onload=()=>{liveTick();setInterval(liveTick,pollInterval)}
async function sendChat(){
  const txt=q('chatInput').value.trim();if(!txt)return;
  q('chatLog').insertAdjacentHTML('beforeend',`<div><b>[YOU]</b> ${txt}</div>`);
  q('chatInput').value='';
  const r=await fetch(backendURL+'/api/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({text:txt})});
  const j=await r.json();
  q('chatLog').insertAdjacentHTML('beforeend',`<div style="color:#ffd36b"><b>[AI]</b> ${j.reply}</div>`);
  q('chatLog').scrollTop=q('chatLog').scrollHeight;
}
</script>
</body>
</html>
