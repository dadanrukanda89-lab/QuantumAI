<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <title>QuantumAI v6 | Sulung Protocol</title>
    <style>
        :root { --neon: #00ff7f; --blue: #00d2ff; }
        
        /* Dasar Body */
        body, html { 
            margin: 0; padding: 0; background: #000; 
            width: 100%; height: 100%; overflow: auto;
            font-family: 'Courier New', monospace;
            display: flex; flex-direction: column; align-items: center;
        }

        /* Container Blueprint Utama */
        #machine-core {
            position: relative;
            width: 100%; /* Menyesuaikan lebar HP lo */
            max-width: 600px; /* Biar gak kegedean di PC */
            aspect-ratio: 10 / 14.5; /* Sesuai proporsi gambar workflow lo */
            background-image: url('https://i.ibb.co/vz0X0pS/1000069403.png'); /* Link Gambar Anti-Gagal */
            background-size: cover;
            background-position: center;
            border: 1px solid #222;
        }

        /* Mapping Data (Posisi % Persen di CSS) */
        /* Biar mau di HP atau PC, posisi angka tetep di dalem kotak */
        .data-overlay { 
            position: absolute; font-weight: bold; 
            text-align: center; pointer-events: none;
        }

        /* Angka BUY/SELL */
        #sig-val { 
            top: 21.5%; left: 5%; width: 20%; 
            font-size: 1.2rem; text-shadow: 0 0 10px var(--neon); 
        }

        /* Angka Momentum % */
        #mom-val { 
            top: 21.5%; left: 33%; width: 19%; 
            font-size: 1.2rem; color: var(--blue);
        }

        /* Log Terminal (Kotak Hitam Bawah) */
        #log-stream { 
            top: 50.5%; left: 18.5%; width: 63%; height: 8%; 
            overflow: hidden; font-size: 0.5rem; text-align: left; 
            color: #9d50bb; display: flex; flex-direction: column-reverse;
        }

        /* Status Vol (Kiri Atas) */
        #vol-val { top: 7.5%; left: 6%; width: 18%; font-size: 0.6rem; color: var(--blue); }

        /* Floating Nav */
        .operator-panel {
            position: fixed; top: 0; width: 100%; background: rgba(0,0,0,0.8);
            border-bottom: 1px solid var(--neon); padding: 10px;
            display: flex; justify-content: space-between; z-index: 100;
        }
    </style>
</head>
<body>

    <div class="operator-panel">
        <div style="color:var(--neon); font-size: 0.8rem;">DRUKANDA // V6</div>
        <div style="color:white; font-size: 0.8rem;">CORE: <span id="status-core">ACTIVE</span></div>
    </div>

    <div style="height: 50px;"></div>

    <div id="machine-core">
        <div id="sig-val" class="data-overlay">SCAN</div>
        <div id="mom-val" class="data-overlay">0%</div>
        <div id="vol-val" class="data-overlay">0.00B</div>
        <div id="log-stream" class="data-overlay"></div>
    </div>

    <script>
        async function updateData() {
            try {
                const r = await fetch('/update_engine');
                const d = await r.json();
                
                const s = document.getElementById('sig-val');
                s.innerText = d.signal;
                s.style.color = (d.signal === 'BUY') ? '#00ff7f' : (d.signal === 'SELL' ? '#ff4444' : '#fff');
                
                document.getElementById('mom-val').innerText = d.momentum + '%';
                document.getElementById('vol-val').innerText = d.vol;
                
                const log = document.getElementById('log-stream');
                const entry = document.createElement('div');
                entry.innerText = "> " + d.log_msg;
                log.appendChild(entry);
                
                // Jaga agar log tidak terlalu panjang
                if (log.childNodes.length > 5) log.removeChild(log.firstChild);
                
            } catch(e) { console.log("Sync lost..."); }
        }
        setInterval(updateData, 3000);
    </script>
</body>
</html>
