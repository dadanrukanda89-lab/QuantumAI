<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=3.0">
    <title>QuantumAI v6 | Sulung Protocol</title>
    <style>
        :root { --neon: #00ff7f; --blue: #00d2ff; }
        body, html { 
            margin: 0; padding: 0; background: #000; 
            width: 100%; height: 100%; overflow: auto;
            font-family: 'Courier New', monospace;
        }

        /* Container Mesin Utama */
        #engine-room {
            position: relative;
            width: 1000px; /* Lebar Blueprint lo */
            height: 1450px; /* Tinggi Blueprint lo */
            margin: 0 auto;
            background-image: url('https://i.ibb.co/vz0X0pS/1000069403.png'); /* Link Gambar Alternatif yang Stabil */
            background-size: contain;
            background-repeat: no-repeat;
            transform-origin: top center;
            transition: transform 0.2s;
        }

        /* Mapping Data Nempel di Kotak Gambar */
        .overlay { position: absolute; font-weight: bold; text-align: center; pointer-events: none; }

        /* AI Core Signal Box */
        #sig-val { 
            top: 318px; left: 50px; width: 200px; 
            font-size: 2.2rem; text-shadow: 0 0 15px var(--neon); 
        }

        /* Satellite Momentum Box */
        #mom-val { 
            top: 318px; left: 325px; width: 195px; 
            font-size: 2.2rem; color: var(--blue);
        }

        /* Terminal Chat Box (Kotak Hitam Bawah) */
        #log-stream { 
            top: 725px; left: 190px; width: 620px; height: 115px; 
            overflow: hidden; font-size: 0.7rem; text-align: left; 
            padding: 5px; line-height: 1.3; color: #9d50bb;
        }

        /* Status Volatility (Kiri Atas) */
        #vol-val { top: 115px; left: 65px; width: 170px; font-size: 0.9rem; color: var(--blue); }

        /* Tombol Kontrol */
        .ui-fixed {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            z-index: 1000; display: flex; gap: 10px; background: rgba(0,0,0,0.8);
            padding: 12px 25px; border: 1px solid var(--neon); border-radius: 50px;
        }
        .b-ui { background: none; border: 1px solid var(--neon); color: var(--neon); padding: 5px 15px; border-radius: 20px; cursor: pointer; }
    </style>
</head>
<body>

    <div class="ui-fixed">
        <button class="b-ui" onclick="zoom(0.1)">ZOOM +</button>
        <button class="b-ui" onclick="zoom(-0.1)">ZOOM -</button>
        <div style="color:var(--neon); font-size:0.7rem; margin-top:5px; margin-left:10px;">OPERATOR: DRUKANDA</div>
    </div>

    <div id="engine-room">
        <div id="sig-val" class="overlay">WAIT</div>
        <div id="mom-val" class="overlay">0%</div>
        <div id="vol-val" class="overlay">VOL: 0.00B</div>
        <div id="log-stream" class="overlay"></div>
    </div>

    <script>
        let sc = 0.5;
        const room = document.getElementById('engine-room');

        function zoom(n) {
            sc += n;
            room.style.transform = `scale(${sc})`;
        }
        zoom(0); // init

        async function refresh() {
            try {
                const res = await fetch('/update_engine');
                const data = await res.json();
                
                const s = document.getElementById('sig-val');
                s.innerText = data.signal;
                s.style.color = (data.signal === 'BUY') ? '#00ff7f' : (data.signal === 'SELL' ? '#ff4444' : '#fff');
                
                document.getElementById('mom-val').innerText = data.momentum + '%';
                document.getElementById('vol-val').innerText = "VOL: " + data.vol;
                
                const l = document.getElementById('log-stream');
                l.innerHTML = `<div>> ${data.log_msg}</div>` + l.innerHTML;
            } catch (e) {}
        }
        setInterval(refresh, 3000);
    </script>
</body>
</html>
