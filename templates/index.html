<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuantumAI v6 Engine</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=JetBrains+Mono&display=swap');
        body { background: #010409; color: #00d4ff; font-family: 'Orbitron', sans-serif; overflow-x: hidden; }
        
        /* ZOOM LEBIH BESAR */
        .glass-panel {
            background: rgba(0, 20, 40, 0.8);
            border: 1px solid #00d4ff;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.5);
            cursor: pointer;
        }
        .glass-panel:hover {
            transform: scale(1.25); /* Zoom diperbesar lagi */
            z-index: 100;
            box-shadow: 0 0 50px rgba(0, 212, 255, 0.6);
            border-color: #fff;
        }

        .text-glow { text-shadow: 0 0 10px #00d4ff; }
        .hidden-chart { display: none; opacity: 0; }
        .show-chart { display: block; opacity: 1; }
    </style>
</head>
<body class="p-4">

    <h1 class="text-center text-2xl mb-10 mt-5 text-glow italic">" QuantumAI v6 Operational Dashboard "</h1>

    <div class="max-w-6xl mx-auto space-y-10">
        <div class="flex justify-center">
            <div class="glass-panel p-4 w-72 rounded-lg text-center">
                <h2 class="text-[10px] mb-2 uppercase tracking-tighter italic">" Data Feed / API "</h2>
                <div class="text-[9px] font-mono text-emerald-400">
                    STATUS: <span id="status">SCANNING...</span> | VOL: <span id="vol">0.0B</span>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
            <div class="glass-panel p-5 rounded-xl border-l-4 border-emerald-500">
                <h3 class="text-[10px] mb-4 italic">" AI CORE SIGNAL "</h3>
                <div id="signal-display" class="font-black text-xl text-center">---</div>
            </div>

            <div class="glass-panel p-5 rounded-xl">
                <h3 class="text-[10px] mb-4 italic">" SATELLITE MOMENTUM "</h3>
                <div class="h-2 w-full bg-slate-900 rounded-full"><div id="momentum-bar" class="h-full bg-cyan-400" style="width: 0%"></div></div>
            </div>

            <div class="glass-panel p-5 rounded-xl border-l-4 border-orange-500">
                <h3 class="text-[10px] mb-4 italic text-orange-400">" RISK ENGINE "</h3>
                <div class="text-[9px] font-mono">SL: <span id="sl">--</span><br>TP: <span id="tp">--</span></div>
            </div>

            <div class="glass-panel p-5 rounded-xl">
                <h3 class="text-[10px] mb-4 italic uppercase">" News Intelligence "</h3>
                <marquee id="news" class="text-[8px] text-white">Connecting to global news feed...</marquee>
            </div>
        </div>

        <div class="text-center">
            <button onclick="toggleChart()" class="glass-panel px-8 py-2 rounded-full text-[10px] font-bold mb-5 hover:bg-cyan-500 hover:text-black">" BUKA/TUTUP CHART "</button>
            <div id="chartContainer" class="hidden-chart glass-panel p-6 rounded-3xl bg-black mx-auto max-w-4xl">
                <div class="h-40 w-full border-b border-l border-sky-900 flex items-end gap-1">
                    <div class="bg-emerald-500 w-full h-24"></div><div class="bg-rose-500 w-full h-32"></div><div class="bg-emerald-500 w-full h-16"></div><div class="bg-emerald-500 w-full h-40"></div>
                </div>
            </div>
        </div>

        <div class="glass-panel p-4 rounded-b-3xl bg-black max-w-3xl mx-auto">
            <div id="log-console" class="h-32 overflow-y-auto font-mono text-[10px] text-emerald-500">
                <p>> [SYSTEM] Initializing Engine...</p>
            </div>
        </div>
    </div>

    <script>
        // Fungsi Buka Tutup
        function toggleChart() {
            document.getElementById('chartContainer').classList.toggle('show-chart');
        }

        // FUNGSI MESIN (Update otomatis tanpa refresh)
        async function fetchEngine() {
            try {
                const response = await fetch('/update_engine');
                const data = await response.json();
                
                document.getElementById('status').innerText = data.status;
                document.getElementById('vol').innerText = data.market_vol;
                document.getElementById('signal-display').innerText = data.signal;
                document.getElementById('momentum-bar').style.width = data.momentum + '%';
                document.getElementById('sl').innerText = data.risk_sl;
                document.getElementById('tp').innerText = data.risk_tp;
                
                const consoleLog = document.getElementById('log-console');
                consoleLog.innerHTML += `<p>${data.log}</p>`;
                consoleLog.scrollTop = consoleLog.scrollHeight;
            } catch (e) { console.log("Engine offline..."); }
        }

        setInterval(fetchEngine, 2000); // Mesin update tiap 2 detik
    </script>
</body>
</html>
